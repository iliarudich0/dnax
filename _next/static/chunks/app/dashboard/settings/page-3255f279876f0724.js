(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{6758:function(e,t,n){Promise.resolve().then(n.bind(n,8582))},8582:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(7437),i=n(2265),s=n(495),a=n(6013),o=n(3102),u=n(678),l=n(7440);let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)(u.fC,{className:(0,l.cn)("peer inline-flex h-7 w-12 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent bg-muted transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=checked]:bg-emerald-500",n),...i,ref:t,children:(0,r.jsx)(u.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});c.displayName=u.fC.displayName;var d=n(7412),f=n(9406),x=n(8428),b=n(1839);function m(){let{user:e}=(0,f.a)(),[t,n]=(0,i.useState)(7),[u,l]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null);(0,i.useEffect)(()=>{e&&(async()=>{let t=await (0,x.Gw)(e.id);(null==t?void 0:t.retentionDays)&&n(t.retentionDays),(null==t?void 0:t.encryptionEnabled)!==void 0&&l(t.encryptionEnabled)})()},[e]);let h=async()=>{e&&(await (0,x.VP)(e.id,{retentionDays:t,encryptionEnabled:u}),g("Settings saved."))},v=async()=>{e&&(await (0,x.af)(e.id),(0,b.L)(),g("All data deleted."))};return(0,r.jsxs)("div",{className:"grid gap-6",children:[(0,r.jsxs)(a.Zb,{className:"border-border/70 bg-white/90",children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{children:"Data controls"}),(0,r.jsx)(a.SZ,{children:"Configure retention and encryption for raw DNA files."})]}),(0,r.jsxs)(a.aY,{className:"space-y-4",children:[m&&(0,r.jsx)(d.b,{children:(0,r.jsx)(d.X,{children:m})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Retention window (days)"}),(0,r.jsx)(o.I,{type:"number",min:1,max:30,value:t,onChange:e=>n(Number(e.target.value))}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Raw DNA files are removed automatically after this period."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-border/70 bg-white/80 px-4 py-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Encrypt raw files before storage"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Client-side AES-GCM encryption (optional)."})]}),(0,r.jsx)(c,{checked:u,onCheckedChange:l})]}),(0,r.jsx)(s.z,{onClick:h,children:"Save settings"})]})]}),(0,r.jsxs)(a.Zb,{className:"border-border/70 bg-white/90",children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{children:"Delete my data"}),(0,r.jsx)(a.SZ,{children:"Removes uploads, normalized data, and shares for this account."})]}),(0,r.jsx)(a.aY,{children:(0,r.jsx)(s.z,{variant:"destructive",onClick:v,children:"Delete everything"})})]})]})}},7412:function(e,t,n){"use strict";n.d(t,{X:function(){return o},b:function(){return a}});var r=n(7437),i=n(2265),s=n(7440);let a=i.forwardRef((e,t)=>{let{className:n,variant:i="default",...a}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,s.cn)("relative w-full rounded-lg border px-4 py-3 text-sm","destructive"===i?"border-destructive/40 bg-destructive/5 text-destructive":"border-border bg-white/90 text-foreground",n),...a})});a.displayName="Alert";let o=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...i})});o.displayName="AlertDescription"},495:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(7437),i=n(2265),s=n(1538),a=n(3027),o=n(7440);let u=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-2xl text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 ring-offset-background shadow-[0_10px_40px_-28px_rgba(16,185,129,0.8)]",{variants:{variant:{default:"bg-gradient-to-r from-emerald-500 to-cyan-500 text-white hover:brightness-110",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",secondary:"border border-border bg-white/70 text-foreground hover:border-foreground/60 hover:bg-white/80",ghost:"hover:bg-muted/80 text-foreground",outline:"border border-emerald-200 text-foreground hover:border-emerald-400 hover:bg-emerald-50",link:"text-emerald-600 underline-offset-4 hover:underline"},size:{default:"h-11 px-5",sm:"h-9 rounded-xl px-4 text-xs",lg:"h-12 rounded-3xl px-6 text-base",icon:"h-11 w-11 rounded-2xl"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:n,variant:i,size:a,asChild:l=!1,...c}=e,d=l?s.g7:"button";return(0,r.jsx)(d,{className:(0,o.cn)(u({variant:i,size:a,className:n})),ref:t,...c})});l.displayName="Button"},6013:function(e,t,n){"use strict";n.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return a},aY:function(){return c},eW:function(){return d},ll:function(){return u}});var r=n(7437),i=n(2265),s=n(7440);let a=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("glass-panel rounded-3xl border border-white/60 bg-white/80 p-6 shadow-soft transition hover:-translate-y-1 hover:shadow-glow dark:bg-white/10",n),...i})});a.displayName="Card";let o=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("mb-4 flex flex-col gap-2",n),...i})});o.displayName="CardHeader";let u=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-lg font-semibold",n),...i})});u.displayName="CardTitle";let l=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...i})});l.displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col gap-4",n),...i})});c.displayName="CardContent";let d=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("mt-4 flex items-center justify-between",n),...i})});d.displayName="CardFooter"},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(7437),i=n(2265),s=n(7440);let a=i.forwardRef((e,t)=>{let{className:n,type:i,...a}=e;return(0,r.jsx)("input",{type:i,className:(0,s.cn)("flex h-11 w-full rounded-2xl border border-input bg-white/60 px-4 text-sm shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-60 dark:bg-white/10",n),ref:t,...a})});a.displayName="Input"},8428:function(e,t,n){"use strict";n.d(t,{Gg:function(){return b},Gw:function(){return v},H6:function(){return N},HZ:function(){return w},Hu:function(){return m},KK:function(){return d},RJ:function(){return g},TD:function(){return x},VP:function(){return p},af:function(){return y},g7:function(){return j},gI:function(){return l},iP:function(){return u},is:function(){return h},kz:function(){return f},nK:function(){return c}});var r=n(885),i=n(261),s=n(3602),a=n(9132),o=n(753);async function u(e,t){return r.I_?i.iP(e,t):s.iP(e,t)}async function l(e,t,n){return r.I_?i.gI(e,t,n):s.gI(t,n)}async function c(e){return r.I_?i.nK(e):s.nK(e)}async function d(e,t,n){return r.I_?i.KK(e,t,n):s.KK(t,n)}async function f(e,t,n){return r.I_?i.kz(e,t,n):s.kz(t,n)}async function x(e,t){return r.I_?i.TD(e,t):s.TD(t)}async function b(e){return r.I_?i.Gg(e):s.Gg(e)}async function m(e,t){return r.I_?i.Hu(e,t):s.Hu(e,t)}async function g(e){return r.I_?i.RJ(e):s.RJ(e)}async function h(e){return r.I_?i.is(e):s.is(e)}async function v(e){return r.I_?i.Gw(e):s.Gw()}async function p(e,t){return r.I_?i.VP(e,t):s.VP(t)}async function w(e,t){return r.I_?i.HZ(e,t):s.HZ(t)}async function y(e){return r.I_?i.af(e):s.af(e)}async function j(e,t,n,i,s,u){return r.I_?a.g7(e,t,n,i,s):o.g7(e,t,n,i,s,u)}async function N(e,t){return r.I_?a.H6(e,t):o.H6(e,t)}},1839:function(e,t,n){"use strict";n.d(t,{L:function(){return a},k:function(){return s}});var r=n(1860);let i="genomelink_encryption_key";async function s(){let e=window.localStorage.getItem(i);if(e)return e;let t=await (0,r.cU)();return window.localStorage.setItem(i,t),t}function a(){window.localStorage.removeItem(i)}},7440:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(4839),i=n(6164);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,r.W)(t))}}},function(e){e.O(0,[358,637,717,934,172,406,971,23,744],function(){return e(e.s=6758)}),_N_E=e.O()}]);